# PokeGen - Integration Guide for PokeWilds

This guide explains how PokeGen integrates with PokeWilds and how mods work.

## How Mods Are Loaded

PokeWilds automatically loads mod files from the `mods/` directory at startup. Each Pokémon mod is a subdirectory containing:

1. **Configuration file** (`pokemon.cfg`) - Metadata about the Pokémon
2. **Graphics** (`graphics/`) - Sprite files (front, back, shiny variants)
3. **Data files** (`data/pokemon/dex_entries/`) - ASM files with stats and moves

## Mod Directory Structure

```
mods/
├── MyPokemon/
│   ├── pokemon.cfg
│   ├── graphics/
│   │   ├── front.png
│   │   ├── back.png
│   │   ├── front_shiny.png
│   │   └── back_shiny.png
│   └── data/pokemon/dex_entries/
│       ├── mypokemon_base_stats.asm
│       └── mypokemon_moves.asm
├── AnotherPokemon/
│   ├── pokemon.cfg
│   ├── graphics/
│   └── data/pokemon/dex_entries/
└── ...
```

## Creating Mods with PokeGen

### Method 1: Web UI (Recommended)

```bash
cd PokeGen
./start-web-app.sh
```

Then open http://localhost:5000 and fill out the form.

### Method 2: Command Line

```bash
./create-pokemon.sh MyPokemon 888 FIRE
```

### Method 3: Python API

```python
from pokemon_mod_generator import PokemonModGenerator

gen = PokemonModGenerator()
gen.create_pokemon(name="MyPokemon", dex_number=888, type1="FIRE")
```

## Customizing Mods

### Sprites

PokeGen supports three ways to get sprites:

1. **Use a template** - Copy from existing Pokémon:
   ```bash
   ./create-pokemon.sh MyPokemon 888 FIRE --template pikachu
   ```

2. **AI generation** - Use the sprite generator:
   - Web UI: http://localhost:5000 → "Generate Sprite" tab
   - CLI: `python3 sprite_generator.py MySprite "red fire dragon"`

3. **Manual** - Replace sprite files in `mods/MyPokemon/graphics/`:
   - `front.png` - Front-facing battle sprite
   - `back.png` - Back-facing sprite
   - `front_shiny.png` - Shiny variant (front)
   - `back_shiny.png` - Shiny variant (back)

Sprites should be 96x96 pixels (Game Boy style).

### Stats and Abilities

Edit the ASM files in `data/pokemon/dex_entries/`:

- `mypokemon_base_stats.asm` - Change HP, Attack, Defense, etc.
- `mypokemon_moves.asm` - Change which moves it learns

These are auto-generated by PokeGen, but can be edited manually if you know Pokemon Crystal ASM format.

### Configuration

The `pokemon.cfg` file contains metadata:

```ini
[pokemon]
name = MyPokemon
dex_number = 888
type1 = FIRE
type2 = FLYING
version = 1.0

[graphics]
sprite_front = graphics/front.png
sprite_back = graphics/back.png
sprite_front_shiny = graphics/front_shiny.png
sprite_back_shiny = graphics/back_shiny.png
```

## Testing Your Mod

1. Create the mod with PokeGen
2. Restart PokeWilds
3. The Pokémon should appear in the Pokédex and be available in the game

## Tips for Quality Mods

### Balance Stats

- Low stats (30-45): Weak early-game Pokémon
- Mid stats (50-80): Average Pokémon
- High stats (90-120): Strong Pokémon
- Very high (130+): Legendary tier

Total stat sum (BST) guides:
- Early evolution: 250-350
- Mid evolution: 350-450
- Final evolution: 450-600+
- Legendary: 600+

### Type Effectiveness

Consider how your types interact:
- Fire beats Grass, Bug, Steel
- Water beats Fire, Ground, Rock
- etc.

### Sprite Quality

- Keep sprites 96x96 pixels
- Use 4-color palette for authentic Game Boy look
- Ensure good contrast
- Test both front and back sprites in battle

### Move Selection

New Pokémon automatically learn basic moves. Edit the moves file to add more.

## Generating Many Mods

You can create multiple mods programmatically:

```python
from pokemon_mod_generator import PokemonModGenerator, PokemonStats

gen = PokemonModGenerator()

pokemon_list = [
    ("Flamewing", 901, "FIRE", "FLYING"),
    ("Aquadrift", 902, "WATER", "FLYING"),
    ("Verdant", 903, "GRASS", "GROUND"),
]

for name, dex, type1, type2 in pokemon_list:
    gen.create_pokemon(
        name=name,
        dex_number=dex,
        type1=type1,
        type2=type2,
        template_pokemon="pikachu"  # Use same template for all
    )
```

## Troubleshooting

### Mod doesn't appear in game

1. **Check directory**: Is it in `mods/[name]/`?
2. **Check files**: Are `pokemon.cfg` and sprite files present?
3. **Restart game**: PokeWilds loads mods at startup
4. **Check logs**: Look for errors in the game output

### Sprites don't show

1. **File names**: Must be exactly `front.png`, `back.png`, etc.
2. **File size**: Should be 96x96 pixels
3. **File format**: Must be PNG format
4. **File location**: Must be in `graphics/` subdirectory

### Stats not working

1. **ASM format**: Must be valid Pokemon Crystal ASM
2. **Values**: Stats should be 0-255
3. **Type values**: Types must map to valid type IDs

## Advanced: Custom ASM

For advanced users, you can write custom ASM files:

```asm
; Custom stats
db  100             ; HP
db  120             ; Attack
db  100             ; Defense
db  80              ; Special Attack
db  100             ; Special Defense
db  95              ; Speed

db  8, 2            ; Type: Fire, Flying

db  87              ; Gender ratio (87.5% male)
db  45              ; Catch rate
db  220             ; Experience yield

db  GROWTH_MEDIUM_FAST
db  CHARCOAL        ; Held item 1
db  NO_ITEM

db  20              ; Egg cycles

; Abilities
db  BLAZE, SOLAR_POWER
```

See Pokemon Crystal documentation for full ASM format details.

## Performance Notes

- Creating mods doesn't affect game performance
- Mods are loaded at startup (one-time cost)
- Sprite generation uses CPU (takes 1-3 minutes)
- First sprite generation downloads AI model (~4GB)

## Summary

1. **Create** a mod with PokeGen (web UI or CLI)
2. **Customize** stats, types, and abilities as needed
3. **Add sprites** (template, AI-generated, or manual)
4. **Restart** PokeWilds to load the mod
5. **Enjoy** your custom Pokémon!

---

For more details, see `README.md` in the PokeGen directory.
